<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="955px" preserveAspectRatio="none" style="width:2261px;height:955px;background:#FFFFFF;" version="1.1" viewBox="0 0 2261 955" width="2261px" zoomAndPan="magnify"><title>TripTop Payment Feature - Class Diagram</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329.7998" x="958.7771" y="22.9951">TripTop Payment Feature - Class Diagram</text></g><!--class PaymentController--><g class="entity" data-entity="PaymentController" data-source-line="6" data-uid="ent0002" id="entity_PaymentController"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="482.8389" x="1453.75" y="44.2969"/><ellipse cx="1625.373" cy="60.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1628.3418,65.9375 Q1627.7637,66.2344 1627.123,66.375 Q1626.4824,66.5313 1625.7793,66.5313 Q1623.2793,66.5313 1621.9512,64.8906 Q1620.6387,63.2344 1620.6387,60.1094 Q1620.6387,56.9844 1621.9512,55.3281 Q1623.2793,53.6719 1625.7793,53.6719 Q1626.4824,53.6719 1627.123,53.8281 Q1627.7793,53.9844 1628.3418,54.2813 L1628.3418,57 Q1627.7168,56.4219 1627.123,56.1563 Q1626.5293,55.875 1625.9043,55.875 Q1624.5605,55.875 1623.873,56.9531 Q1623.1855,58.0156 1623.1855,60.1094 Q1623.1855,62.2031 1623.873,63.2813 Q1624.5605,64.3438 1625.9043,64.3438 Q1626.5293,64.3438 1627.123,64.0781 Q1627.7168,63.7969 1628.3418,63.2188 L1628.3418,65.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.0928" x="1645.873" y="65.1436">PaymentController</text><line style="stroke:#181818;stroke-width:0.5;" x1="1454.75" x2="1935.5889" y1="76.2969" y2="76.2969"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1461.75" y="86.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.0625" x="1473.75" y="93.292">paymentService: IPaymentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1454.75" x2="1935.5889" y1="100.5938" y2="100.5938"/><ellipse cx="1464.75" cy="114.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="383.0791" x="1473.75" y="117.5889">PaymentController(paymentService: IPaymentService)</text><ellipse cx="1464.75" cy="130.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="456.8389" x="1473.75" y="133.8857">createInvoice(invoiceRequest: InvoiceRequest): InvoiceResponse</text></g><!--class IPaymentService--><g class="entity" data-entity="IPaymentService" data-source-line="13" data-uid="ent0003" id="entity_IPaymentService"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="438.4121" x="1203.96" y="201.1869"/><ellipse cx="1360.021" cy="217.1869" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1355.9429,212.9525 L1355.9429,210.7963 L1363.3335,210.7963 L1363.3335,212.9525 L1360.8648,212.9525 L1360.8648,221.0306 L1363.3335,221.0306 L1363.3335,223.1869 L1355.9429,223.1869 L1355.9429,221.0306 L1358.4117,221.0306 L1358.4117,212.9525 L1355.9429,212.9525 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117.79" x="1380.521" y="222.0336">IPaymentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1204.96" x2="1641.3721" y1="233.1869" y2="233.1869"/><line style="stroke:#181818;stroke-width:0.5;" x1="1204.96" x2="1641.3721" y1="241.1869" y2="241.1869"/><ellipse cx="1214.96" cy="254.8353" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="412.4121" x="1223.96" y="258.182">processInvoice(request: InvoiceRequest): InvoiceResponse</text></g><!--class PaymentServiceImpl--><g class="entity" data-entity="PaymentServiceImpl" data-source-line="18" data-uid="ent0004" id="entity_PaymentServiceImpl"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="531.0049" x="838.66" y="325.4869"/><ellipse cx="1027.8104" cy="341.4869" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1030.7791,347.1275 Q1030.201,347.4244 1029.5604,347.565 Q1028.9198,347.7213 1028.2166,347.7213 Q1025.7166,347.7213 1024.3885,346.0806 Q1023.076,344.4244 1023.076,341.2994 Q1023.076,338.1744 1024.3885,336.5181 Q1025.7166,334.8619 1028.2166,334.8619 Q1028.9198,334.8619 1029.5604,335.0181 Q1030.2166,335.1744 1030.7791,335.4713 L1030.7791,338.19 Q1030.1541,337.6119 1029.5604,337.3463 Q1028.9666,337.065 1028.3416,337.065 Q1026.9979,337.065 1026.3104,338.1431 Q1025.6229,339.2056 1025.6229,341.2994 Q1025.6229,343.3931 1026.3104,344.4713 Q1026.9979,345.5338 1028.3416,345.5338 Q1028.9666,345.5338 1029.5604,345.2681 Q1030.1541,344.9869 1030.7791,344.4088 L1030.7791,347.1275 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.2041" x="1048.3104" y="346.3336">PaymentServiceImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="839.66" x2="1368.6649" y1="357.4869" y2="357.4869"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="846.66" y="368.1353"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.1563" x="858.66" y="374.482">paymentAdapter: IPaymentAdapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="839.66" x2="1368.6649" y1="381.7838" y2="381.7838"/><ellipse cx="849.66" cy="395.4322" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="505.0049" x="858.66" y="398.7789">PaymentServiceImpl(paymentAdapterFactory: PaymentAdapterFactory)</text><ellipse cx="849.66" cy="411.7291" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="412.4121" x="858.66" y="415.0757">processInvoice(request: InvoiceRequest): InvoiceResponse</text></g><!--class IPaymentAdapter--><g class="entity" data-entity="IPaymentAdapter" data-source-line="25" data-uid="ent0006" id="entity_IPaymentAdapter"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="500.332" x="862" y="555.7169"/><ellipse cx="1046.9976" cy="571.7169" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1042.9194,567.4825 L1042.9194,565.3263 L1050.3101,565.3263 L1050.3101,567.4825 L1047.8413,567.4825 L1047.8413,575.5606 L1050.3101,575.5606 L1050.3101,577.7169 L1042.9194,577.7169 L1042.9194,575.5606 L1045.3882,575.5606 L1045.3882,567.4825 L1042.9194,567.4825 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="121.8369" x="1067.4976" y="576.5636">IPaymentAdapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="863" x2="1361.332" y1="587.7169" y2="587.7169"/><line style="stroke:#181818;stroke-width:0.5;" x1="863" x2="1361.332" y1="595.7169" y2="595.7169"/><ellipse cx="873" cy="609.3653" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474.332" x="882" y="612.712">processInvoicePayment(request: InvoiceRequest): InvoiceResponse</text><ellipse cx="873" cy="625.6622" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4365" x="882" y="629.0089">isAvailable(): boolean</text></g><!--class PaymentAdapterFactory--><g class="entity" data-entity="PaymentAdapterFactory" data-source-line="31" data-uid="ent0007" id="entity_PaymentAdapterFactory"><rect fill="#F1F1F1" height="227.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="538.4082" x="288.96" y="482.3769"/><ellipse cx="468.8477" cy="498.3769" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M471.8164,504.0175 Q471.2383,504.3144 470.5977,504.455 Q469.9571,504.6113 469.2539,504.6113 Q466.7539,504.6113 465.4258,502.9706 Q464.1133,501.3144 464.1133,498.1894 Q464.1133,495.0644 465.4258,493.4081 Q466.7539,491.7519 469.2539,491.7519 Q469.9571,491.7519 470.5977,491.9081 Q471.2539,492.0644 471.8164,492.3613 L471.8164,495.08 Q471.1914,494.5019 470.5977,494.2363 Q470.0039,493.955 469.3789,493.955 Q468.0352,493.955 467.3477,495.0331 Q466.6602,496.0956 466.6602,498.1894 Q466.6602,500.2831 467.3477,501.3613 Q468.0352,502.4238 469.3789,502.4238 Q470.0039,502.4238 470.5977,502.1581 Q471.1914,501.8769 471.8164,501.2988 L471.8164,504.0175 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.1328" x="489.3477" y="503.2236">PaymentAdapterFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="289.96" x2="826.3682" y1="514.3769" y2="514.3769"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="525.0253"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326.0332" x="308.96" y="531.372">stripePaymentAdapter: StripePaymentAdapter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="541.3222"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338.3516" x="308.96" y="547.6689">paypalPaymentAdapter: PaypalPaymentAdapter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="557.6191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5244" x="308.96" y="563.9657">failureCount: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="573.9159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.9795" x="308.96" y="580.2626">lastFailureTime: long</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="590.2128"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="162.4697" x="308.96" y="596.5595">MAX_FAILURES: int = 3</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="606.5097"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="247.7959" x="308.96" y="612.8564">RESET_TIMEOUT_MS: long = 30000</text><line style="stroke:#181818;stroke-width:0.5;" x1="289.96" x2="826.3682" y1="620.1581" y2="620.1581"/><ellipse cx="299.96" cy="633.8066" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512.4082" x="308.96" y="637.1532">PaymentAdapterFactory(stripePaymentAdapter, paypalPaymentAdapter)</text><ellipse cx="299.96" cy="650.1034" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.625" x="308.96" y="653.4501">getPaymentAdapter(): IPaymentAdapter</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="663.4003"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.6416" x="308.96" y="669.747">isCircuitClosed(): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="679.6972"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.6455" x="308.96" y="686.0439">recordFailure(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="296.96" y="695.9941"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.8535" x="308.96" y="702.3407">resetCircuit(): void</text></g><!--class StripePaymentAdapter--><g class="entity" data-entity="StripePaymentAdapter" data-source-line="46" data-uid="ent0008" id="entity_StripePaymentAdapter"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="500.332" x="7" y="810.3869"/><ellipse cx="173.3013" cy="826.3869" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M176.27,832.0275 Q175.6919,832.3244 175.0513,832.465 Q174.4106,832.6213 173.7075,832.6213 Q171.2075,832.6213 169.8794,830.9806 Q168.5669,829.3244 168.5669,826.1994 Q168.5669,823.0744 169.8794,821.4181 Q171.2075,819.7619 173.7075,819.7619 Q174.4106,819.7619 175.0513,819.9181 Q175.7075,820.0744 176.27,820.3713 L176.27,823.09 Q175.645,822.5119 175.0513,822.2463 Q174.4575,821.965 173.8325,821.965 Q172.4888,821.965 171.8013,823.0431 Q171.1138,824.1056 171.1138,826.1994 Q171.1138,828.2931 171.8013,829.3713 Q172.4888,830.4338 173.8325,830.4338 Q174.4575,830.4338 175.0513,830.1681 Q175.645,829.8869 176.27,829.3088 L176.27,832.0275 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.2295" x="193.8013" y="831.2336">StripePaymentAdapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="506.332" y1="842.3869" y2="842.3869"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="853.0353"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.3828" x="27" y="859.382">apiKey: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="506.332" y1="866.6838" y2="866.6838"/><ellipse cx="18" cy="880.3322" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474.332" x="27" y="883.6789">processInvoicePayment(request: InvoiceRequest): InvoiceResponse</text><ellipse cx="18" cy="896.6291" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4365" x="27" y="899.9757">isAvailable(): boolean</text></g><!--class PaypalPaymentAdapter--><g class="entity" data-entity="PaypalPaymentAdapter" data-source-line="53" data-uid="ent0010" id="entity_PaypalPaymentAdapter"><rect fill="#F1F1F1" height="178.375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="554.1172" x="542.11" y="769.6369"/><ellipse cx="732.7335" cy="785.6369" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M735.7023,791.2775 Q735.1242,791.5744 734.4835,791.715 Q733.8429,791.8713 733.1398,791.8713 Q730.6398,791.8713 729.3117,790.2306 Q727.9992,788.5744 727.9992,785.4494 Q727.9992,782.3244 729.3117,780.6681 Q730.6398,779.0119 733.1398,779.0119 Q733.8429,779.0119 734.4835,779.1681 Q735.1398,779.3244 735.7023,779.6213 L735.7023,782.34 Q735.0773,781.7619 734.4835,781.4963 Q733.8898,781.215 733.2648,781.215 Q731.921,781.215 731.2335,782.2931 Q730.546,783.3556 730.546,785.4494 Q730.546,787.5431 731.2335,788.6213 Q731.921,789.6838 733.2648,789.6838 Q733.8898,789.6838 734.4835,789.4181 Q735.0773,789.1369 735.7023,788.5588 L735.7023,791.2775 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.3701" x="753.2335" y="790.4836">PaypalPaymentAdapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="543.11" x2="1095.2272" y1="801.6369" y2="801.6369"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="550.11" y="812.2853"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3584" x="562.11" y="818.632">httpClient: HttpClient</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="550.11" y="828.5822"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.4316" x="562.11" y="834.9289">CLIENT_ID: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="550.11" y="844.8791"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5811" x="562.11" y="851.2257">SECRET: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="550.11" y="861.1759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.7432" x="562.11" y="867.5226">encodedCredentials: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="543.11" x2="1095.2272" y1="874.8244" y2="874.8244"/><ellipse cx="553.11" cy="888.4728" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2939" x="562.11" y="891.8195">PaypalPaymentAdapter()</text><ellipse cx="553.11" cy="904.7697" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="528.1172" x="562.11" y="908.1164">processInvoicePayment(invoiceRequest: InvoiceRequest): InvoiceResponse</text><ellipse cx="553.11" cy="921.0666" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4365" x="562.11" y="924.4132">isAvailable(): boolean</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="550.11" y="934.3634"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.7451" x="562.11" y="940.7101">getAccessToken(): String</text></g><!--class InvoiceRequest--><g class="entity" data-entity="InvoiceRequest" data-source-line="65" data-uid="ent0012" id="entity_InvoiceRequest"><rect fill="#F1F1F1" height="170.3438" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="466.583" x="1130.87" y="773.6569"/><ellipse cx="1306.1366" cy="793.7897" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1309.1054,799.4303 Q1308.5272,799.7272 1307.8866,799.8678 Q1307.246,800.0241 1306.5429,800.0241 Q1304.0429,800.0241 1302.7147,798.3834 Q1301.4022,796.7272 1301.4022,793.6022 Q1301.4022,790.4772 1302.7147,788.8209 Q1304.0429,787.1647 1306.5429,787.1647 Q1307.246,787.1647 1307.8866,787.3209 Q1308.5429,787.4772 1309.1054,787.7741 L1309.1054,790.4928 Q1308.4804,789.9147 1307.8866,789.6491 Q1307.2929,789.3678 1306.6679,789.3678 Q1305.3241,789.3678 1304.6366,790.4459 Q1303.9491,791.5084 1303.9491,793.6022 Q1303.9491,795.6959 1304.6366,796.7741 Q1305.3241,797.8366 1306.6679,797.8366 Q1307.2929,797.8366 1307.8866,797.5709 Q1308.4804,797.2897 1309.1054,796.7116 L1309.1054,799.4303 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.4902" x="1353.6664" y="789.7955">&#171;record&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.5498" x="1326.6366" y="805.6207">InvoiceRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="1131.87" x2="1596.453" y1="813.9225" y2="813.9225"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1138.87" y="824.5709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.5" x="1150.87" y="830.9176">userId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1138.87" y="840.8678"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.3096" x="1150.87" y="847.2145">amount: Long</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1138.87" y="857.1647"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.499" x="1150.87" y="863.5114">currency: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="1131.87" x2="1596.453" y1="870.8131" y2="870.8131"/><ellipse cx="1141.87" cy="884.4616" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="440.583" x="1150.87" y="887.8082">InvoiceRequest(userId: String, amount: Long, currency: String)</text><ellipse cx="1141.87" cy="900.7584" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.4238" x="1150.87" y="904.1051">userId(): String</text><ellipse cx="1141.87" cy="917.0553" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.2334" x="1150.87" y="920.402">amount(): Long</text><ellipse cx="1141.87" cy="933.3522" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.4229" x="1150.87" y="936.6989">currency(): String</text></g><!--class InvoiceResponse--><g class="entity" data-entity="InvoiceResponse" data-source-line="75" data-uid="ent0013" id="entity_InvoiceResponse"><rect fill="#F1F1F1" height="154.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="622.374" x="1631.98" y="781.8069"/><ellipse cx="1879.9571" cy="801.9397" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1882.9258,807.5803 Q1882.3477,807.8772 1881.7071,808.0178 Q1881.0664,808.1741 1880.3633,808.1741 Q1877.8633,808.1741 1876.5352,806.5334 Q1875.2227,804.8772 1875.2227,801.7522 Q1875.2227,798.6272 1876.5352,796.9709 Q1877.8633,795.3147 1880.3633,795.3147 Q1881.0664,795.3147 1881.7071,795.4709 Q1882.3633,795.6272 1882.9258,795.9241 L1882.9258,798.6428 Q1882.3008,798.0647 1881.7071,797.7991 Q1881.1133,797.5178 1880.4883,797.5178 Q1879.1446,797.5178 1878.4571,798.5959 Q1877.7696,799.6584 1877.7696,801.7522 Q1877.7696,803.8459 1878.4571,804.9241 Q1879.1446,805.9866 1880.4883,805.9866 Q1881.1133,805.9866 1881.7071,805.7209 Q1882.3008,805.4397 1882.9258,804.8616 L1882.9258,807.5803 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.4902" x="1932.6719" y="797.9455">&#171;record&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.9199" x="1900.4571" y="813.7707">InvoiceResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="1632.98" x2="2253.354" y1="822.0725" y2="822.0725"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1639.98" y="832.7209"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.7773" x="1651.98" y="839.0676">invoiceId: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1639.98" y="849.0178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.499" x="1651.98" y="855.3645">currency: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1639.98" y="865.3147"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9658" x="1651.98" y="871.6614">amount: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1639.98" y="881.6116"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.5869" x="1651.98" y="887.9582">provider: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="1632.98" x2="2253.354" y1="895.26" y2="895.26"/><ellipse cx="1642.98" cy="908.9084" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="596.374" x="1651.98" y="912.2551">InvoiceResponse(invoiceId: String, currency: String, amount: String, provider: String)</text><ellipse cx="1642.98" cy="925.2053" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.708" x="1651.98" y="928.552">toString(): String</text></g><!--reverse link IPaymentService to PaymentServiceImpl--><g class="link" data-entity-1="IPaymentService" data-entity-2="PaymentServiceImpl" data-source-line="19" data-uid="lnk5" id="link_IPaymentService_PaymentServiceImpl"><path d="M1286.81,283.9469 C1286.81,301.5469 1286.81,305.6269 1286.81,325.2269" fill="none" id="IPaymentService-backto-PaymentServiceImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1286.81,265.9469,1280.81,283.9469,1292.81,283.9469,1286.81,265.9469" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IPaymentAdapter to StripePaymentAdapter--><g class="link" data-entity-1="IPaymentAdapter" data-entity-2="StripePaymentAdapter" data-source-line="47" data-uid="lnk9" id="link_IPaymentAdapter_StripePaymentAdapter"><path d="M940.07,654.5069 C940.07,697.0969 940.07,740.0169 940.07,740.0169 C940.07,740.0169 434.54,740.0169 434.54,740.0169 C434.54,740.0169 434.54,777.3469 434.54,810.1569" fill="none" id="IPaymentAdapter-backto-StripePaymentAdapter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="940.07,636.5069,934.07,654.5069,946.07,654.5069,940.07,636.5069" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IPaymentAdapter to PaypalPaymentAdapter--><g class="link" data-entity-1="IPaymentAdapter" data-entity-2="PaypalPaymentAdapter" data-source-line="54" data-uid="lnk11" id="link_IPaymentAdapter_PaypalPaymentAdapter"><path d="M1018.15,654.7869 C1018.15,690.0369 1018.15,724.2569 1018.15,769.1969" fill="none" id="IPaymentAdapter-backto-PaypalPaymentAdapter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1018.15,636.7869,1012.15,654.7869,1024.15,654.7869,1018.15,636.7869" style="stroke:#181818;stroke-width:1;"/></g><!--link PaymentController to IPaymentService--><g class="link" data-entity-1="PaymentController" data-entity-2="IPaymentService" data-source-line="86" data-uid="lnk14" id="link_PaymentController_IPaymentService"><path codeLine="86" d="M1548.06,153.5169 C1548.06,173.1869 1548.06,177.3469 1548.06,194.9669" fill="none" id="PaymentController-IPaymentService" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1548.06,141.5169,1544.06,147.5169,1548.06,153.5169,1552.06,147.5169,1548.06,141.5169" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1548.06,200.9669,1552.06,191.9669,1548.06,195.9669,1544.06,191.9669,1548.06,200.9669" style="stroke:#181818;stroke-width:1;"/></g><!--link PaymentServiceImpl to IPaymentAdapter--><g class="link" data-entity-1="PaymentServiceImpl" data-entity-2="IPaymentAdapter" data-source-line="88" data-uid="lnk15" id="link_PaymentServiceImpl_IPaymentAdapter"><path codeLine="88" d="M1112.17,434.6669 C1112.17,474.5069 1112.17,512.1569 1112.17,549.5569" fill="none" id="PaymentServiceImpl-IPaymentAdapter" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1112.17,422.6669,1108.17,428.6669,1112.17,434.6669,1116.17,428.6669,1112.17,422.6669" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1112.17,555.5569,1116.17,546.5569,1112.17,550.5569,1108.17,546.5569,1112.17,555.5569" style="stroke:#181818;stroke-width:1;"/></g><!--link PaymentAdapterFactory to StripePaymentAdapter--><g class="link" data-entity-1="PaymentAdapterFactory" data-entity-2="StripePaymentAdapter" data-source-line="90" data-uid="lnk16" id="link_PaymentAdapterFactory_StripePaymentAdapter"><path codeLine="90" d="M361.75,722.1369 C361.75,757.1869 361.75,775.9069 361.75,804.0869" fill="none" id="PaymentAdapterFactory-StripePaymentAdapter" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="361.75,710.1369,357.75,716.1369,361.75,722.1369,365.75,716.1369,361.75,710.1369" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="361.75,810.0869,365.75,801.0869,361.75,805.0869,357.75,801.0869,361.75,810.0869" style="stroke:#181818;stroke-width:1;"/></g><!--link PaymentAdapterFactory to PaypalPaymentAdapter--><g class="link" data-entity-1="PaymentAdapterFactory" data-entity-2="PaypalPaymentAdapter" data-source-line="91" data-uid="lnk17" id="link_PaymentAdapterFactory_PaypalPaymentAdapter"><path codeLine="91" d="M684.74,722.1369 C684.74,741.9469 684.74,744.2969 684.74,763.3269" fill="none" id="PaymentAdapterFactory-PaypalPaymentAdapter" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="684.74,710.1369,680.74,716.1369,684.74,722.1369,688.74,716.1369,684.74,710.1369" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="684.74,769.3269,688.74,760.3269,684.74,764.3269,680.74,760.3269,684.74,769.3269" style="stroke:#181818;stroke-width:1;"/></g><!--link PaymentServiceImpl to PaymentAdapterFactory--><g class="link" data-entity-1="PaymentServiceImpl" data-entity-2="PaymentAdapterFactory" data-source-line="92" data-uid="lnk18" id="link_PaymentServiceImpl_PaymentAdapterFactory"><path codeLine="92" d="M850.33,422.5769 C850.33,465.0769 850.33,520.0169 850.33,520.0169 C850.33,520.0169 847.7,520.0169 833.41,520.0169" fill="none" id="PaymentServiceImpl-to-PaymentAdapterFactory" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="827.41,520.0169,836.41,524.0169,832.41,520.0169,836.41,516.0169,827.41,520.0169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="820.33" y="478.8238">uses</text></g><!--link PaymentController to InvoiceRequest--><g class="link" data-entity-1="PaymentController" data-entity-2="InvoiceRequest" data-source-line="94" data-uid="lnk19" id="link_PaymentController_InvoiceRequest"><path codeLine="94" d="M1740.44,141.4769 C1740.44,298.0369 1740.44,778.0169 1740.44,778.0169 C1740.44,778.0169 1680.55,778.0169 1603.92,778.0169" fill="none" id="PaymentController-to-InvoiceRequest" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1597.92,778.0169,1606.92,782.0169,1602.92,778.0169,1606.92,774.0169,1597.92,778.0169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="1710.44" y="527.0738">uses</text></g><!--link PaymentController to InvoiceResponse--><g class="link" data-entity-1="PaymentController" data-entity-2="InvoiceResponse" data-source-line="95" data-uid="lnk20" id="link_PaymentController_InvoiceResponse"><path codeLine="95" d="M1838.51,141.5369 C1838.51,271.0569 1838.51,618.3569 1838.51,775.5869" fill="none" id="PaymentController-to-InvoiceResponse" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1838.51,781.5869,1842.51,772.5869,1838.51,776.5869,1834.51,772.5869,1838.51,781.5869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.0361" x="1790.51" y="457.6338">returns</text></g><!--link IPaymentService to InvoiceRequest--><g class="link" data-entity-1="IPaymentService" data-entity-2="InvoiceRequest" data-source-line="97" data-uid="lnk21" id="link_IPaymentService_InvoiceRequest"><path codeLine="97" d="M1483.56,265.6469 C1483.56,359.2069 1483.56,626.5969 1483.56,767.1669" fill="none" id="IPaymentService-to-InvoiceRequest" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1483.56,773.1669,1487.56,764.1669,1483.56,768.1669,1479.56,764.1669,1483.56,773.1669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0127" x="1417.56" y="515.4738">processes</text></g><!--link IPaymentService to InvoiceResponse--><g class="link" data-entity-1="IPaymentService" data-entity-2="InvoiceResponse" data-source-line="98" data-uid="lnk22" id="link_IPaymentService_InvoiceResponse"><path codeLine="98" d="M1638.91,265.6469 C1638.91,361.0869 1638.91,637.6369 1638.91,775.4669" fill="none" id="IPaymentService-to-InvoiceResponse" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1638.91,781.4669,1642.91,772.4669,1638.91,776.4669,1634.91,772.4669,1638.91,781.4669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.0361" x="1590.91" y="519.6238">returns</text></g><!--link IPaymentAdapter to InvoiceRequest--><g class="link" data-entity-1="IPaymentAdapter" data-entity-2="InvoiceRequest" data-source-line="99" data-uid="lnk23" id="link_IPaymentAdapter_InvoiceRequest"><path codeLine="99" d="M1246.6,636.7869 C1246.6,673.1169 1246.6,721.4769 1246.6,767.3169" fill="none" id="IPaymentAdapter-to-InvoiceRequest" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1246.6,773.3169,1250.6,764.3169,1246.6,768.3169,1242.6,764.3169,1246.6,773.3169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0127" x="1180.6" y="701.1138">processes</text></g><!--link IPaymentAdapter to InvoiceResponse--><g class="link" data-entity-1="IPaymentAdapter" data-entity-2="InvoiceResponse" data-source-line="100" data-uid="lnk24" id="link_IPaymentAdapter_InvoiceResponse"><path codeLine="100" d="M1362.69,596.0169 C1497.11,596.0169 1635.44,596.0169 1635.44,596.0169 C1635.44,596.0169 1635.44,697.8769 1635.44,775.3969" fill="none" id="IPaymentAdapter-to-InvoiceResponse" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1635.44,781.3969,1639.44,772.3969,1635.44,776.3969,1631.44,772.3969,1635.44,781.3969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.0361" x="1543.76" y="592.0838">returns</text></g><!--SRC=[jLRVJzim47xFNs7nibIqQDBUAbQf2wqM3KRL1cblbKaEQk76cUrsgX3_-ywnK-B4AcFQU26z7z_TzztPYMQQ0pdB9AioKP45FMoXr6GELEyaa159E5MAN37wAEdsB8hK4oihYi-4inBqeG8YfDw8AFf04b5gAJW76ULrceDxjPFdY21ePUqha7kMmvYa2y-0CUVztFYDh46Tbaji7T9oBz0KC_j_2Jzte3IcUBy7BOEgHAaWUZ4y720wDSW7YWsnvgbRj2PqJYefSb2gAIl_ijwsuc30gMQYz3LqCIQ4i2PE1TivwZijQ8Lzlohb36rzMxYndpQdkHRoC2QBa7dm3tWts-QGJ-hTn8JqTY7lA6ymc9hkAUFqdaEC8VT2SA2bxQofviYINqnlIC9alcEQVC4LU-hkkA-EcuFIUAvWqPd6Ac1jnbPHtWrV1Anr-0DsZuSq4RiIEQDajHMRqdFhoTWMZmaNvMFjULPciV8NSZFziPvFq-kxvMnL9vBFv9CVWfvPjixIczdjNRQ-MLaO4_SH_zeBv1EFGvI7GMPsWnv1-sOpYpJ0bYcdVyA5Wg8zCkEMa0jPEEB6YGCld4U1Thb7XprtTQ_DiDqyGzC9dRZsGeu8hTWtEDZPrdB__nr5n0NbdUv3o_9sznkjguGpC7lqzVXSkvBhTFOzMwTNBMuZifebordccQ3CHG558g70N4QvyjG8DHOFJWZrxglxX5wcFroqQMxgPE89IkDrtTLYNcMtzbK7oYdfroENbtR39XEdsKw1J0jF0hgrH_6wEN7vJahKnTyB7pZsSOOUoB27O1MpEIqEncWJZT7LFpzc-smx_AnyVO9k01sE0Kgln5ic7EgU5SrrrwLkQyQz4dt2mmxui8Ti9T72_lAfucINmElNgTgmIaNzBn8n6arw7o1HuAth1JQdBWfV_tLiy9u_4H-yw0EDkDW0pDXiXee2B2yk9jsDTi5lnBhj6ECrYb-49O9tFpc2qEvC8_x9y1vwztxwG_1WU1VyDm00]--></g></svg>